<%#
  お気に入りにする・しないボタンを表示
  @param :micropost
%>

<% if current_user.favoriting?(micropost) %>
  <%# お気に入り中 %>
  
  <%= form_for(current_user.favorites.find_by(micropost_id: micropost.id), html: { style: 'display: inline-block;', method: :delete }) do |f| %>
     <%= hidden_field_tag :micropost_id, micropost.id %> 
    <%= button_tag( class: 'btn btn-danger btn-xs' ) do %>
      <%= content_tag :span, '', class: 'glyphicon glyphicon-heart' %>
    <% end %>
  <% end %>
  
<% else %>
  <%# お気に入りしてない %>
  
  <%= form_for(current_user.favorites.build, html: { style: 'display: inline-block;' }) do |f| %>
    <%= hidden_field_tag :micropost_id, micropost.id %> 
    <%= button_tag( class: 'btn btn-default btn-xs' ) do %>
      <%= content_tag :span, '', class: 'glyphicon glyphicon-heart' %>
    <% end %>
  <% end %>
  
<% end %>
